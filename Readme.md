# Sudarshan Os Kernel

# ğŸ”§ Simple 32-bit Kernel (Protected Mode, GRUB Multiboot)

## Required Tools

```bash
    sudo apt update
    sudo apt install gcc xorriso grub-pc-bin mtools
    sudo apt install qemu-system
```

## Build the iso

```bash
    make
    qemu-system-x86_64 -cdrom sudarshanos.iso
```

## Keyboard Inerrupt Handling Follow
```bash
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚       Keyboard Hardware     â”‚
    â”‚  (User presses a key)       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â”‚ IRQ1 Interrupt Signal
                    â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚      PIC (Programmable      â”‚
    â”‚    Interrupt Controller)    â”‚
    â”‚ (Remapped IRQ1 to IDT #33) â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â”‚ Interrupt Request
                    â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚          CPU                â”‚
    â”‚   (Interrupt Processing)   â”‚
    â”‚                            â”‚
    â”‚  - CPU stops current task  â”‚
    â”‚  - Looks up IDT entry #33  â”‚
    â”‚  - Jumps to irq1 handler   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚      irq1 Assembly Stub     â”‚
    â”‚                            â”‚
    â”‚  - Registers à¦¸à¦‚à¦°à¦•à§à¦·à¦£ à¦•à¦°à§‡  â”‚
    â”‚  - à¦•à¦² à¦•à¦°à§‡ keyboard_handlerâ”‚
    â”‚  - PIC à¦•à§‡ EOI à¦ªà¦¾à¦ à¦¾à§Ÿ        â”‚
    â”‚  - à¦°à§‡à¦œà¦¿à¦¸à§à¦Ÿà¦¾à¦° à¦°à¦¿à¦¸à§à¦Ÿà§‹à¦° à¦•à¦°à§‡    â”‚
    â”‚  - CPU à¦ªà§‚à¦°à§à¦¬à§‡à¦° à¦•à¦¾à¦œ à¦šà¦¾à¦²à¦¾à§Ÿ    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    keyboard_handler (C)    â”‚
    â”‚                            â”‚
    â”‚  - inb(0x60) take scancode â”‚
    â”‚  - scancode_to_ascii convert|
    â”‚       to ASCII code        |
    â”‚  - print_char write on screen â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```